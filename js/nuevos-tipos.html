<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevos-Tipos</title>
</head>
<body>
    <h1>Nuevos Tipos de Datos en JavaScript</h1>
    <script>
        //SECCION 49
        /*
        let id = Symbol("id")
        let id2= Symbol("id2") 
        console.log(id === id2)  
        console.log(id, id2)
        console.log(typeof id, typeof id2) 

        const NOMBRE = Symbol()
        const SALUDO = Symbol()

        const persona={
            [NOMBRE]:"Jon"
        }
        console.log(persona)
        
        persona.NOMBRE="Michi Force"
        console.log(persona)
        
        persona[SALUDO]=function(){
            console.log(`Hola`)
        }
        console.log(persona)
        persona[SALUDO]()

        for(let propiedad in persona){
            console.log(propiedad)
            console.log(persona[propiedad])

        }*/

        //SECCION  50
/*
        const set = new Set ([1,2,3,3,6,6,4,4,5,true,false,true,"hola","HOLA"])
        console.log(set)
        console.log(set.size)

        const set2 = new Set()
        set2.add(1)
        set2.add(1)
        set2.add(3)
        set2.add(2)
        set2.add(4)
        set2.add(4)
        set2.add(true)
        set2.add(false)
        set2.add(true)
        set2.add({})

        console.log(set2)
        console.log(set2.size)
        
        console.log("Recorriendo set")
        for(item of set){
            console.log(item)
        }
        console.log("Recorriendo set2")
        set2.forEach(item => console.log(item));

        //Convertir un Set a un arreglo
        
        let arr = Array.from(set)
        console.log(arr)
        console.log(arr[0])
        console.log(arr[7])
        
        set.delete("hola")
        console.log(set)

    //SECCION 51

    const mapa = new Map()
    mapa.set("nombre","Michi")
    mapa.set("apellido","Melian")
    mapa.set("edad",25)
    mapa.set("genero","M")
        console.log(mapa)
        console.log(mapa.size)
        console.log(mapa.has("correo"))
        console.log(mapa.has("nombre"))
        console.log(mapa.get("nombre"))
        mapa.set("nombre","MichiForce")
        console.log(mapa.get("nombre"))

        for(item of mapa)
        console.log(item)

        for(let[key,value] of mapa)
        console.log(`Llave :${key} Valor:${value}`)

    const mapa2=new Map([
        ["nombre","KiRi"],
        ["edad",3],
        ["animal","perra"],
        [null,"nulo"]
    ])
    console.log(mapa2)

    const llavesmapa2=[...mapa2.keys()]
    const valoresmapa2=[...mapa2.values()]

    console.log(llavesmapa2)
    console.log(valoresmapa2)

         
        //SECCION 52 WeakSet
//const ws = new WeakSet([1,2,3,4,4,5,true,false,{},"hola"])
const ws = new WeakSet()

let valor1 ={"valor1":1}
let valor2 ={"valor2":2}
let valor3 ={"valor3":3}
ws.add(valor1)
ws.add(valor2)
//ws.add(valor3)

console.log(ws) 
console.log(ws.has(valor1))
console.log(ws.has(valor3))
ws.delete(valor2)
console.log(ws) 

ws.add(valor2)
ws.add(valor3)
console.log(ws) 

//setInterval(()=>console.log(ws),1000)

setTimeout(() => {
   valor1=null;
   valor2=null ;
   valor3=null ;
},300);

/*const wm= new WeakMap([
    ["nombre","kiri"],
    ["edad",4],
    ["animal","perro"],
    ["null","nulo"]
    ])

//weakMap
const wm=new WeakMap()
let llave1 ={};
let llave2 ={};
let llave3 ={};
wm.set(llave1,1)
wm.set(llave2,2)
console.log(wm)
console.log(wm.get(llave1))
console.log(wm.get(llave3))

setInterval(() => {
    console.log(wm)
}, 1000);

setTimeout(() => {
    llave1=null;
    llave2=null;
    llave3=null;
}, 1000);


//SECCION 53 Iterables

const iterable=[1,2,3,4,5]

//Accedemos al iterador del iterable
const iterador=iterable[Symbol.iterator]();

//console.log(iterable)
//console.log(iterador)
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())

let next=iterador.next()

while(!next.done){
    console.log(next.value)
    next=iterador.next()
}


//SECCIÓN 54 Generators

function* iterable() {
    yield "hola";
    console.log("Hola consola")
    yield "hola 2"
    console.log("Seguimos con más instrucciones de nuestro código")
    yield "hola 3"
    yield "hola 4"
}

let iterador = iterable()
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())
//console.log(iterador.next())

for(let y of iterador){
    console.log(y)
}

const arr=[...iterable()]
console.log(arr)

function cuadrado(valor){
    setTimeout(() => {
       console.log({valor,resultado:valor*valor}) 
    }, Math.random()* 1000);
    
   }


 function* generador(){
    console.log("Inicia Generador")
    yield cuadrado(0)
    yield cuadrado(1)
    yield cuadrado(2)
    yield cuadrado(3)
    yield cuadrado(4)
    yield cuadrado(5)
    console.log("Fin Generador")
 }

 let gen =generador()

 for(let y of gen){
     console.log(y)
    }


    //*******************SECCION 55 Proxies****************************

 const persona ={
    nombre:"",
    apellido:"",
    edad:"",
 }

 const manejador ={
    set(obj,prop,valor){
        if(Object.keys(obj).indexOf(prop)===-1)
     return  console.error(`La propiedad ${prop} no existe en el objeto persona`)
        obj[prop]=valor
    }
 }

 const jon=new Proxy(persona,manejador)
 jon.nombre="Michi"
 jon.apellido="Force"
 jon.edad=25
 jon.twitter="@michiforce"
 console.log(jon)

 console.log(persona)
 


//***********************SECCION 56 Propiedades Dinamicas****************

 const objUsuarios={}
 const usuarios=["Michi","Lili","Eva","Ely","Kyra"]

  console.log(objUsuarios)


//*************************SECCION 57 This***************************
 
 console.log(this)
 console.log(window)
 console.log(this===window)

 this.nombre="Contexto Global"
 console.log(this.nombre)
 
 function imprimir(){
     console.log(this.nombre)
    }
    
    imprimir()
    
    const obj={
        nombre:"Contexto Objeto",
        imprimir: function(){
        console.log(this.nombre)
    }
 }

 obj.imprimir()

const obj2={
    nombre:"Contexto Objeto2",
    imprimir
}
    obj2.imprimir()


    const obj3={
        nombre:"Contexto Objeto 3",
        imprimir: function (){
        console.log(this.nombre)
    }}
    obj3.imprimir()

    function Persona(nombre){
        this.nombre=nombre
        //return console.log(this.nombre)
        /*return function(){
            console.log(this.nombre)
        }*/
       /*
       return ()=> console.log(this.nombre)
    }

    let michi=new Persona("Michi")
    michi()


//**********************SECCION 58 CALL,APPLY, BIND*********************





//**********************SECCION 59 JSON*********************

const json={
cadena:"Michi",
numero:25,
booleano:true,
arreglo:["correr","programar","cosinar"],
objeto:{
    twitter:"@michiforce",
    email:"michelmelianp@gmail.com"
    },
nulo:null
}
    console.log(json)

    console.log(JSON)

    console.log("{}")
    console.log("[]")
    console.log("[1,2,3,]")
    console.log(JSON.parse("[1,2,3]"))
    console.log(JSON.parse("{}"))
    console.log(JSON.parse("[]"))
    console.log(JSON.parse("true"))
    console.log(JSON.parse("false"))
    console.log(JSON.parse("null"))

    console.log(JSON.stringify({}))
    console.log(JSON.stringify([1,2,3]))
    console.log(JSON.stringify(true))
    console.log(JSON.stringify(null))
    console.log(JSON.stringify( undefined))

*/ 


























    </script>
</body>
</html>